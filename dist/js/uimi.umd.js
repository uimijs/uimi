var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,o)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,__spreadValues=(e,t)=>{for(var o in t||(t={}))__hasOwnProp.call(t,o)&&__defNormalProp(e,o,t[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(t))__propIsEnum.call(t,o)&&__defNormalProp(e,o,t[o]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t))
/*!
* uimi.js v1.0.2
* A Vue.js 3.0 UI Library
* Copyright (c) 2019-2021 Yao Yi
* All rights reserved.
*/;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("axios")):"function"==typeof define&&define.amd?define(["exports","vue","axios"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).uimi={},e.Vue,e.axios)}(this,(function(e,t,o){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=n(o);const a=function(e,t={}){for(var o in this)"install"!==o&&e.component("Ui"+o,this[o])},r={type:String,validator:e=>["sm","lg","top","right","bottom","left","circle","pill","0"].includes(e)},s={type:String,validator:e=>["primary","secondary","success","info","warning","danger","light","dark"].includes(e)};var c={name:"Alert",props:{theme:s,dismissible:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},setup(e){const o=t.ref(!0);return{classObj:["alert",`alert-${e.theme}`,{"alert-dismissible fade":e.dismissible},{show:o&&e.dismissible}],close:()=>{o.value=!1}}}};const i=t.createVNode("span",{"aria-hidden":"true"},"×",-1);c.render=function(e,o,n,l,a,r){return t.openBlock(),t.createBlock(t.Transition,{name:"fade",mode:"out-in",appear:""},{default:t.withCtx((()=>[t.createVNode("div",{class:l.classObj,role:"alert"},[t.renderSlot(e.$slots,"default"),n.dismissible?(t.openBlock(),t.createBlock("button",{key:0,type:"button",class:"close",onClick:o[1]||(o[1]=(...e)=>l.close&&l.close(...e))},[i])):t.createCommentVNode("",!0)],2)])),_:3})};var d=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Alert:c}),u={name:"Icon",props:{name:{type:String,default:""}}};u.render=function(e,o,n,l,a,r){return t.openBlock(),t.createBlock("i",{class:`fa fa-${n.name}`},null,2)};var p=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Icon:u}),m={name:"Element",props:{tagName:{type:String,default:"div"}},render:(e,o,n,l,a,r)=>"Fragment"==n.tagName?t.createBlock("div",{},[t.renderSlot(e.$slots,"default")]):(t.openBlock(),t.createBlock(n.tagName,e.$attrs,[t.renderSlot(e.$slots,"default")],16))},g={name:"Avatar",components:{Element:m,Icon:u},props:{tagName:{type:String,default:"span"},src:String,srcSet:String,icon:String,name:{type:String,default:""},slice:{type:Number,default:-2},size:{type:String},rounded:__spreadProps(__spreadValues({},r),{default:"circle"}),theme:__spreadProps(__spreadValues({},s),{default:"primary"})},setup(e){const o=[`rounded-${e.rounded}`,{[`bg-${e.theme}`]:!e.src}],n=e.size?{width:e.size,height:e.size}:{},l=t.ref(!1);return{classObj:o,styleObj:n,hasLoadError:l,handleError:function(e){l.value=!0}}}};g.render=function(e,o,n,l,a,r){const s=t.resolveComponent("Icon"),c=t.resolveComponent("Element");return t.openBlock(),t.createBlock(c,{class:["avatar",l.classObj],tagName:n.tagName,style:l.styleObj},{default:t.withCtx((()=>[n.icon?(t.openBlock(),t.createBlock(s,{key:0,name:n.icon},null,8,["name"])):!n.src&&!n.srcSet||l.hasLoadError?(t.openBlock(),t.createBlock("span",{key:2,textContent:t.toDisplayString(n.name.slice(n.slice))},null,8,["textContent"])):(t.openBlock(),t.createBlock("img",{key:1,class:"img-fluid",src:n.src,srcset:n.srcSet,onError:o[1]||(o[1]=(...e)=>l.handleError&&l.handleError(...e))},null,40,["src","srcset"]))])),_:1},8,["tagName","class","style"])};var f=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Avatar:g}),y={name:"Button",components:{Element:m,Icon:u},props:{theme:s,tagName:{type:String,default:"button"},icon:{type:String,default:""},type:String},setup(e){const o=t.reactive({}),n=[];return"button"==e.tagName&&(n.push("btn"),e.type||(o.type="button")),e.theme&&n.push(`btn-${e.theme}`),0!=n.length&&(o.class=n),{buttonAttr:o}}};y.render=function(e,o,n,l,a,r){const s=t.resolveComponent("Icon"),c=t.resolveComponent("Element");return t.openBlock(),t.createBlock(c,t.mergeProps({tagName:n.tagName},l.buttonAttr),{default:t.withCtx((()=>[n.icon?(t.openBlock(),t.createBlock(s,{key:0,name:n.icon},null,8,["name"])):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"default")])),_:3},16,["tagName"])};var h=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Button:y});const k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||(e=>setTimeout(e,1e3/60)),v=Object.prototype.hasOwnProperty;function b(e){try{return JSON.parse(e)}catch(t){return e}}!function(e){function t(e){throw new URIError("The script "+e.target.src+" is not accessible.")}}(document.head||document.getElementsByTagName("head")[0]);var _={name:"Collapse",setup:()=>({onEvent:{class:"collapse",enterFromClass:"",onBeforeEnter(e){e.style.height="0",e.classList.add("show")},enterActiveClass:"collapsing",onEnter(e){k((()=>e.style.height=`${e.scrollHeight}px`))},enterToClass:"",onAfterEnter(e){e.style.height=""},leaveFromClass:"",onBeforeLeave(e){e.style.height=`${e.scrollHeight}px`},leaveActiveClass:"collapsing",onLeave(e){e.getBoundingClientRect(),e.style.transitionProperty="height",k((()=>e.style.height="0"))},leaveToClass:"",onAfterLeave(e){e.classList.remove("show"),e.style.height=""}}})};_.render=function(e,o,n,l,a,r){return t.openBlock(),t.createBlock(t.Transition,l.onEvent,{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default")])),_:3},16)};var w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Collapse:_});const S={count:0,showId:-1,getDropdownId(){return this.count++,this.count},setShowId(e){this.showId=e}};var B={name:"Dropdown",props:{ButtonText:String,theme:{type:String,default:"primary"}},setup(){const e=t.reactive(S),o=e.getDropdownId(),n=t.ref(!1),l=t.reactive({});return t.watch((()=>e.showId),(e=>{n.value=o===e,l["z-index"]=-1===e||n.value?"":1e3})),{dropdownId:o,show:n,style:l,showDropdown:()=>e.setShowId(e.showId==o?-1:o)}}};B.render=function(e,o,n,l,a,r){return t.openBlock(),t.createBlock("div",{class:["dropdown",{show:l.show}],onClick:o[1]||(o[1]=(...e)=>l.showDropdown&&l.showDropdown(...e)),style:l.style},[n.ButtonText?(t.openBlock(),t.createBlock("button",{key:0,type:"button",class:["btn dropdown-toggle",`btn-${n.theme}`],textContent:t.toDisplayString(n.ButtonText)},null,10,["textContent"])):t.createCommentVNode("",!0),t.renderSlot(e.$slots,"default",{id:l.dropdownId})],6)};var C={name:"DropdownMenu",props:{MenuItem:Array},setup(){const e=t.reactive(S),o=e.count;return{show:t.computed((()=>o===e.showId))}}};C.render=function(e,o,n,l,a,r){return t.openBlock(),t.createBlock("div",{class:["dropdown-menu",{show:l.show}]},[t.renderSlot(e.$slots,"default",{},(()=>[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(n.MenuItem,(e=>(t.openBlock(),t.createBlock("a",{class:"dropdown-item",key:e,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))]))],2)};var x=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Dropdown:B,DropdownMenu:C}),N={name:"Load",props:{theme:__spreadProps(__spreadValues({},s),{default:"secondary"})}};const O={class:"d-flex align-items-center justify-content-center",style:{width:"100vw",height:"100vh"}};N.render=function(e,o,n,l,a,r){return t.openBlock(),t.createBlock("div",O,[t.createVNode("div",{class:`spinner-border text-${n.theme}`},null,2)])};var T=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Loading:N}),P={name:"Pagination",components:{Dropdown:B,DropdownMenu:C,Icon:u},props:{total:Number,pageCount:Number,currentPage:Number,pageSize:{type:Number,default:20},pageSizes:{type:Object,default:[20,40,60,80,100]},pagerCount:{type:Number,default:5},hiddenMore:Boolean,onPagerClick:{type:Function}},setup:e=>({pagers:t.computed((()=>{const t=e.currentPage,o=e.pagerCount,n=e.pageCount,l=[],a=Math.ceil(o/2)-1;let r=t-a;r<1&&(r=1);let s=r+o-1;s>=n&&(s=n),r=s-o+1,r<1&&(r=1);for(let i=r;i<=s;i++){let t={page:i};e.currentPage==i&&(t.active=!0),l.push(t)}function c(e,o=[]){let a=t-e;a<1&&(a=1);let r={page:a};o[0]&&(r.text=o[0]),a==t&&(r.disabled=!0),console.log("start多余"),l.unshift(r);let c=t+e;c>n&&(c=n);let i={page:c};c==t&&(i.disabled=!0),o[1]&&(i.text=o[1]),(c==s||n)&&console.log("end多余"),l.push(i)}return c(5,["...","..."]),c(n),c(1,['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>']),console.log(r,s,l),l}))})};const D={class:"pagination"},j={class:"d-flex align-items-center me-2"},V={class:"mx-1"},M=t.createTextVNode("共"),I=t.createTextVNode("条 "),L=t.createVNode("span",null,"第",-1),E=t.createVNode("input",{class:"form-control mx-1",style:{height:"20px",width:"32px"},value:"1"},null,-1),$=t.createTextVNode("/"),z=t.createTextVNode("页"),A={class:"ms-1"},F={class:"page-link dropdown-toggle"};P.render=function(e,o,n,l,a,r){const s=t.resolveComponent("DropdownMenu"),c=t.resolveComponent("Dropdown");return t.openBlock(),t.createBlock("ul",D,[t.createVNode("li",j,[t.createVNode("span",V,[M,t.createVNode("span",{class:"text-primary mx-1",textContent:t.toDisplayString(n.total)},null,8,["textContent"]),I]),L,E,t.createVNode("span",null,[$,t.createVNode("span",{class:"text-primary mx-1",textContent:t.toDisplayString(n.pageCount)},null,8,["textContent"]),z])]),(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(l.pagers,(e=>(t.openBlock(),t.createBlock("li",{class:["page-item",{active:e.active,disabled:e.disabled}],key:e},[t.createVNode("a",{class:"page-link",innerHTML:e.text||e.page,onClick:t=>n.onPagerClick(e.page)},null,8,["innerHTML","onClick"])],2)))),128)),t.createVNode("li",A,[t.createVNode(c,null,{default:t.withCtx((()=>[t.createVNode("a",F,t.toDisplayString(n.pageSize)+"条/页",1),t.createVNode(s,{class:"dropdown-menu-end"},{default:t.withCtx((()=>[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(n.pageSizes,(e=>(t.openBlock(),t.createBlock("a",{class:"dropdown-item",key:e,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))])),_:1})])),_:1})])])};var K=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Pagination:P}),R={name:"Table",props:{columns:Object,data:Object},setup(e){console.log("类型",typeof e.data,typeof e.data[0],e.data);return{thead:t.computed((()=>!e.columns&&e.data[0]?Object.keys(e.data[0]):e.columns))}}};const H={class:"table"};R.render=function(e,o,n,l,a,r){return t.openBlock(),t.createBlock("table",H,[t.renderSlot(e.$slots,"default",{},(()=>[t.createVNode("thead",null,[t.createVNode("tr",null,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(l.thead,((e,o)=>(t.openBlock(),t.createBlock("th",{key:o,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))])]),t.createVNode("tbody",null,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(n.data,((e,o)=>(t.openBlock(),t.createBlock("tr",{key:o},[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(e,((e,o)=>(t.openBlock(),t.createBlock("td",{key:o,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))])))),128))])]))])};var U=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Table:R});const q={show:{},menuData:{},updateShow(e,t){this.show[e]=this.show[e]!==t?t:"-1"}};var J={name:"Tree",components:{Element:m,Icon:u},directives:{collapse:{beforeMount(e,{value:t}){e.classList.add("collapse"),t&&e.classList.add("show")},beforeUpdate(e,{value:t,oldValue:o}){!t!=!o&&(t?(e.style.height="0",e.classList.add("show")):e.style.height=`${e.scrollHeight}px`,e.classList.replace("collapse","collapsing"))},updated(e,{value:t,oldValue:o}){if(!t==!o)return;k((()=>e.style.height=t?`${e.scrollHeight}px`:"0"));const n=(e=>{const t=(e,t)=>{for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>o(t)+o(e[n]))))},o=e=>1e3*Number(e.slice(0,-1).replace(",",".")),n=window.getComputedStyle(e),l=e=>(n[e]||"").split(", "),a=t(l("transitionDelay"),l("transitionDuration")),r=t(l("animationDelay"),l("animationDuration"));return Math.max(a,r)})(e);setTimeout((()=>{t||e.classList.remove("show"),e.classList.replace("collapsing","collapse"),e.style.height=""}),n)}}},props:{class:{type:String,default:"tree"},pid:{type:[Number,String],default:0},accordion:{type:Boolean,default:!0},level:{type:Number,default:-1},menu:{type:Object},idKey:{type:String,default:"id"},pidKey:{type:String,default:"pid"},nameKey:{type:String,default:"name"},iconKey:{type:String,default:"icon"},data:{type:Object},clickMenu:Function},setup(e){const o=t.reactive(q),{menuData:n}=t.toRefs(o);if(!e.menu){let o=function(t){const o={};if(t){const n=t.length;for(let l=0;l<n;l++){const n=t[l][e.pidKey];o.hasOwnProperty(n)||(o[n]=[]),o[n].push(t[l])}}return o};console.log("tree性能测试",e.data),n.value=o(e.data),t.watch((()=>e.data),(e=>n.value=o(e)))}const l=e.menu?"li":"nav",a=e.menu?"nav-item":e.class,r=t.computed((()=>n.value.hasOwnProperty(e.pid))),s=e.level>0?{"margin-left":e.level+"em"}:{},c=e.menu?e.menu[e.iconKey]:"",i=t.ref(!e.menu);return e.accordion&&e.menu&&t.watch((()=>o.show[e.menu[e.pidKey]]),(t=>i.value=e.menu.id===t)),{menuData:n,tagName:l,menuClass:a,hasChild:r,isActive:i,setActive:(t,n)=>{e.accordion?o.updateShow(t,n):i.value=!i.value},icon:c,marginLeft:s}}};const G={key:1,class:"nav"};J.render=function(e,o,n,l,a,r){const s=t.resolveComponent("Icon"),c=t.resolveComponent("Tree",!0),i=t.resolveComponent("Element"),d=t.resolveDirective("collapse");return t.openBlock(),t.createBlock(i,{tagName:l.tagName,class:l.menuClass},{default:t.withCtx((()=>[n.menu?(t.openBlock(),t.createBlock("a",{key:0,class:["nav-link",{active:l.isActive}],onClick:o[1]||(o[1]=e=>(n.clickMenu(n.menu),l.setActive(n.menu[n.pidKey],n.menu.id)))},[t.createVNode(s,{name:l.icon,style:l.marginLeft},null,8,["name","style"]),t.createVNode("span",{class:"flex-fill",textContent:t.toDisplayString(n.menu[n.nameKey])},null,8,["textContent"]),l.hasChild?(t.openBlock(),t.createBlock(s,{key:0,name:"angle-down"})):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0),l.hasChild?t.withDirectives((t.openBlock(),t.createBlock("ul",G,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(l.menuData[n.pid],((e,o)=>(t.openBlock(),t.createBlock(c,t.mergeProps({key:o},{level:n.level+1,menu:e,pid:e[n.idKey],pidKey:n.pidKey,clickMenu:n.clickMenu}),null,16)))),128))],512)),[[d,l.isActive]]):t.createCommentVNode("",!0)])),_:1},8,["tagName","class"])};var Q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Tree:J}),W={props:{modalOpen:{type:Boolean,default:!1},to:{type:String,default:"body"}}};const X={key:0,class:"modal",role:"dialog"},Y={class:"modal-dialog"};W.render=function(e,o,n,l,a,r){return t.openBlock(),t.createBlock(t.Teleport,{to:n.to},[n.modalOpen?(t.openBlock(),t.createBlock("div",X,[t.createVNode("div",Y,[t.renderSlot(e.$slots,"default")])])):t.createCommentVNode("",!0)],8,["to"])};var Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:a,Modal:W});const ee=function(e,t={}){for(var o in this)"install"!==o&&(e.config.globalProperties[`$${o}`]=this[o])},te=e=>{var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");if(t=document.cookie.match(o))return t[2]},oe={set:(e,t,o,n="/")=>{let l="";if(o){let e=new Date;e.setTime(e.getTime()+o),l=";expires="+e.toUTCString()+";path="+n}document.cookie=e+"="+t+l},get:te,remove:(e,t="/")=>{var o=new Date;o.setTime(o.getTime()-1);var n=te(e);null!=n&&(document.cookie=e+"="+n+";expires="+o.toUTCString()+";path="+t)}},ne=(e,t,o)=>"cookie"==e?b(oe.get(t))||o:"local"==e?b(window.localStorage.getItem(t))||o:"session"==e?b(window.sessionStorage.getItem(t))||o:void 0,le=(e,t,o)=>{"cookie"==e&&oe.set(t,JSON.stringify(o),72e5),"local"==e&&window.localStorage.setItem(t,JSON.stringify(o)),"session"==e&&window.sessionStorage.setItem(t,JSON.stringify(o))};function ae(e={}){const t={};for(var o in e){const n=ne(e[o].type,o,e[o].default);"object"==typeof e[o].default?t[o]=new Proxy(n,{set(t,n,l,a){const r=Reflect.set(t,n,l);return le(e[o].type,o,t),r}}):t[o]=n}return console.log("target",t),new Proxy(t,{set(t,o,n,l){const a=Reflect.set(t,o,n);return((e,t)=>v.call(e,t))(e,o)&&le(e[o].type,o,n),a}})}const re=ae({token:{type:"cookie",default:""}});l.default.defaults.baseURL="http://yunxioa.com:82",l.default.defaults.headers.common.Authorization=re.token,l.default.interceptors.request.use((function(e){return console.log(e),e}),(function(e){return Promise.reject(e)})),l.default.interceptors.response.use((function(e){return console.log(e.data.errcode),0!==e.data.errcode&&console.log("请求失败拉！",e.data),e.data}),(function(e){return Promise.reject(e)}));const se=l.default;var ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:ee,http:se}),ie=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Alert:d,Avatar:f,Button:h,Collapse:w,Dropdown:x,Icon:p,Loading:T,Pagination:K,Table:U,Tree:Q,Modal:Z,global:ce}),de={install(e,t={}){for(var o in ie)ie[o].install(e,t);ee(e,t)}};e.Alert=d,e.Avatar=f,e.Button=h,e.Collapse=w,e.Dropdown=x,e.Icon=p,e.Loading=T,e.Modal=Z,e.Pagination=K,e.Table=U,e.Tree=Q,e.cookie=oe,e.createLocalStorage=ae,e.default=de,e.getCache=ne,e.global=ce,e.http=se,e.setCache=le,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
