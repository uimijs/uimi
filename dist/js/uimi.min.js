/*!
* uimi.js v1.0.0
* A Vue.js 3.0 UI Library
* Copyright (c) 2019-2020 Yao Yi
* All rights reserved.
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).uimi={},e.Vue)}(this,(function(e,t){"use strict";const n=function(e,t={}){for(var n in this)"install"!==n&&e.component("Ui"+n,this[n])};var o={name:"Avatar",props:{tag:{type:String,default:"span"},src:String,icon:String,name:{type:String,default:""},size:{type:String},rounded:{type:String,default:"circle"},theme:{type:String,default:"primary"}},render(e,n,o,a,l,r){const{tag:s,src:i,icon:c,name:d,size:u,rounded:p,theme:h}=o;return t.h(s,{class:["avatar",`rounded-${p}`,i?"":`badge-${h}`],style:u?{width:u,height:u}:{}},c?t.h("i",{class:c}):i?t.h("img",{class:["img-fluid"],src:i}):t.h("span",{class:["small"]},d.slice(-2)))},__file:"src/components/avatar/avatar.vue"},a={install:n,Avatar:o};const l={show:{list:0,id:-1}};function r(e,n){t.isProxy(e[n])||(e[n]=t.reactive(e[n]))}var s={name:"Dropdown",props:{ButtonText:String,theme:{type:String,default:"primary"}},setup(){r(l,"show"),l.show.list++;const e=l.show.list,n=t.ref(!1),o=t.reactive({});return t.watch((()=>l.show.id),(t=>{n.value=e===t,o["z-index"]=-1===t||n.value?"":1e3})),{show:n,style:o,showDropdown:()=>l.show.id=l.show.id==e?-1:e}}};s.render=function(e,n,o,a,l,r){return t.openBlock(),t.createBlock("div",{class:["dropdown",{show:a.show}],onClick:n[1]||(n[1]=(...e)=>a.showDropdown&&a.showDropdown(...e)),style:a.style},[o.ButtonText?(t.openBlock(),t.createBlock("button",{key:0,type:"button",class:["btn dropdown-toggle",`btn-${o.theme}`],textContent:t.toDisplayString(o.ButtonText)},null,10,["textContent"])):t.createCommentVNode("v-if",!0),t.renderSlot(e.$slots,"default")],6)},s.__file="src/components/dropdown/dropdown.vue";var i={name:"DropdownMenu",props:{MenuItem:Array},setup(){r(l,"show");const e=l.show.list;return{show:t.computed((()=>e===l.show.id))}}};i.render=function(e,n,o,a,l,r){return t.openBlock(),t.createBlock("div",{class:["dropdown-menu",{show:a.show}]},[t.renderSlot(e.$slots,"default",{},(()=>[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(o.MenuItem,(e=>(t.openBlock(),t.createBlock("a",{class:"dropdown-item",key:e,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))]))],2)},i.__file="src/components/dropdown/dropdown-menu.vue";var c={install:n,Dropdown:s,DropdownMenu:i},d={name:"Load",render:()=>t.h("div",{class:"spinner-border text-danger",style:{position:"fixed",top:"calc(50vh - 2rem)",left:"calc(50vw - 2rem)",width:"4rem",height:"4rem","border-width":"0.25rem"}}),__file:"src/components/load/load.vue"},u={install:n,Load:d},p={name:"Pagination",props:{total:Number,pageSize:Number,pageCount:Number,currentPage:Number,pagerCount:Number,hiddenMore:Boolean},computed:{pagers(){const e=this.currentPage,t=this.pagerCount,n=this.pageCount,o=[],a=Math.ceil(t/2)-1;let l=e-a;l<1&&(l=1);let r=l+t-1;r>=n&&(r=n),l=r-t+1,l<1&&(l=1);for(let e=l;e<=r;e++){let t={page:e};this.currentPage==e&&(t.active=!0),o.push(t)}function s(t,a=[]){let l=e-t;l<1&&(l=1);let s={page:l};a[0]&&(s.text=a[0]),l==e&&(s.disabled=!0),console.log("start多余"),o.unshift(s);let i=e+t;i>n&&(i=n);let c={page:i};i==e&&(c.disabled=!0),a[1]&&(c.text=a[1]),(i==r||n)&&console.log("end多余"),o.push(c)}return s(5,["...","..."]),s(n),s(1,['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>']),console.log(l,r,o),o}},methods:{onPagerClick(e){this.currentPage=e}}};const h={class:"pagination"};p.render=function(e,n,o,a,l,r){return t.openBlock(),t.createBlock("ul",h,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(r.pagers,(e=>(t.openBlock(),t.createBlock("li",{class:["page-item",{active:e.active,disabled:e.disabled}],key:e},[t.createVNode("a",{class:"page-link",innerHTML:e.text||e.page,onClick:t=>r.onPagerClick(e.page)},null,8,["innerHTML","onClick"])],2)))),128))])},p.__file="src/components/pagination/pagination.vue";var m={install:n,Pagination:p},g={name:"Table",props:{columns:Object,data:Object},setup(e){console.log("类型",typeof e.data,typeof e.data[0],e.data);return{thead:t.computed((()=>!e.columns&&e.data[0]?Object.keys(e.data[0]):e.columns))}}};const f={class:"table"};g.render=function(e,n,o,a,l,r){return t.openBlock(),t.createBlock("table",f,[t.renderSlot(e.$slots,"default",{},(()=>[t.createVNode("thead",null,[t.createVNode("tr",null,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(a.thead,((e,n)=>(t.openBlock(),t.createBlock("th",{key:n,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))])]),t.createVNode("tbody",null,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(o.data,((e,n)=>(t.openBlock(),t.createBlock("tr",{key:n},[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(e,((e,n)=>(t.openBlock(),t.createBlock("td",{key:n,textContent:t.toDisplayString(e)},null,8,["textContent"])))),128))])))),128))])]))])},g.__file="src/components/table/table.vue";var v={install:n,Table:g},w={beforeMount(e,{value:t}){e.classList.add("collapse"),t&&e.classList.add("show")},beforeUpdate(e,{value:t,oldValue:n}){!t!=!n&&(e.style.height=t?"0":e.scrollHeight+"px",e.classList.replace("collapse","collapsing"),e.classList.toggle("show"))},updated(e,{value:t,oldValue:n}){if(!t==!n)return;const o=window.getComputedStyle(e),a=1e3*Number(o.transitionDuration.slice(0,-1).replace(",","."));e.style.height=t?e.scrollHeight+"px":"0",setTimeout((()=>{e.classList.replace("collapsing","collapse"),e.style.height=""}),a)}};const y={show:{},updateShow(e,t){this.show[e]=this.show[e]!==t?t:"-1"}};var k={name:"TreeMenu",props:{pid:{type:[Number,String],default:0},accordion:{type:Boolean,default:!0},level:{type:Number,default:-1},menu:{type:Object,default:{}},pidKey:{type:String,default:"pid"},data:{type:Object,required:!0},clickMenu:Function},setup(e){r(y,"show");const n=e.menu.hasOwnProperty(e.pidKey),o=n?"li":"nav",a=n?"nav-item":"tree",l=n?e.menu.id:e.pid,s=t.computed((()=>e.data.hasOwnProperty(l))),i=t.ref(!n);e.accordion&&t.watch((()=>y.show[e.menu[e.pidKey]]),(t=>i.value=e.menu.id===t));const c=e.level>0?{"margin-left":e.level+"em"}:{};return{hasMenu:n,tag:o,menuClass:a,childId:l,hasChild:s,isActive:i,setActive:(e,t)=>{y.updateShow(e,t),i.value=!i.value},marginLeft:c}},render(e,n,o,a,l,r){const s=t.resolveComponent("tree-menu"),{level:i,pidKey:c,menu:d,data:u,clickMenu:p}=o,{hasMenu:h,tag:m,menuClass:g,childId:f,hasChild:v,isActive:y,setActive:k,marginLeft:b}=a,B=h?t.h("a",{key:0,class:["nav-link",{active:y}],onClick:n[1]||(n[1]=()=>(p(d),k(d[c],d.id)))},[t.h("i",{class:"fa fa-home",style:b}),t.h("span",d.name),v?t.h("i",{class:"fa fa-angle-down"}):""]):"",C=v?t.withDirectives(t.h("ul",{class:"nav"},t.renderList(u[f],(e=>t.h(s,{key:e.id,level:i+1,menu:e,pidKey:c,data:u,clickMenu:p})))),[[w,y]]):"";return console.log("tree性能测试"),t.h(m,{class:g},[B,C])},__file:"src/components/tree/tree.vue"},b={install:n,Tree:k};e.Avatar=a,e.Dropdown=c,e.Load=u,e.Pagination=m,e.Table=v,e.Tree=b,e.install=function(e,t={}){for(var n in this)"install"!==n&&this[n].install(e,t)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=uimi.min.js.map