var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,r=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&s(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&s(e,n,t[n]);return e},i=(e,o)=>t(e,n(o))
/*!
* uimi.js v1.0.2
* A Vue.js 3.0 UI Library
* Copyright (c) 2019-2021 Yao Yi
* All rights reserved.
*/;import{ref as u,openBlock as c,createBlock as d,Transition as p,withCtx as m,createVNode as g,renderSlot as f,createCommentVNode as y,resolveComponent as h,toDisplayString as b,reactive as v,mergeProps as w,watch as S,computed as _,Fragment as x,renderList as C,createTextVNode as O,toRefs as k,resolveDirective as T,withDirectives as j,Teleport as M}from"vue";import I from"axios";const N=function(e,t={}){for(var n in this)"install"!==n&&e.component("Ui"+n,this[n])},D={type:String,validator:e=>["sm","lg","top","right","bottom","left","circle","pill","0"].includes(e)},$={type:String,validator:e=>["primary","secondary","success","info","warning","danger","light","dark"].includes(e)};var z={name:"Alert",props:{theme:$,dismissible:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},setup(e){const t=u(!0);return{classObj:["alert",`alert-${e.theme}`,{"alert-dismissible fade":e.dismissible},{show:t&&e.dismissible}],close:()=>{t.value=!1}}}};const A=g("span",{"aria-hidden":"true"},"×",-1);z.render=function(e,t,n,o,a,l){return c(),d(p,{name:"fade",mode:"out-in",appear:""},{default:m((()=>[g("div",{class:o.classObj,role:"alert"},[f(e.$slots,"default"),n.dismissible?(c(),d("button",{key:0,type:"button",class:"close",onClick:t[1]||(t[1]=(...e)=>o.close&&o.close(...e))},[A])):y("",!0)],2)])),_:3})};var P=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Alert:z}),E={name:"Icon",props:{name:{type:String,default:""}}};E.render=function(e,t,n,o,a,l){return c(),d("i",{class:`fa fa-${n.name}`},null,2)};var L=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Icon:E}),B={name:"Element",props:{tagName:{type:String,default:"div"}},render:(e,t,n,o,a,l)=>"Fragment"==n.tagName?d("div",{},[f(e.$slots,"default")]):(c(),d(n.tagName,e.$attrs,[f(e.$slots,"default")],16))},K={name:"Avatar",components:{Element:B,Icon:E},props:{tagName:{type:String,default:"span"},src:String,srcSet:String,icon:String,name:{type:String,default:""},slice:{type:Number,default:-2},size:{type:String},rounded:i(r({},D),{default:"circle"}),theme:i(r({},$),{default:"primary"})},setup(e){const t=[`rounded-${e.rounded}`,{[`bg-${e.theme}`]:!e.src}],n=e.size?{width:e.size,height:e.size}:{},o=u(!1);return{classObj:t,styleObj:n,hasLoadError:o,handleError:function(e){o.value=!0}}}};K.render=function(e,t,n,o,a,l){const s=h("Icon"),r=h("Element");return c(),d(r,{class:["avatar",o.classObj],tagName:n.tagName,style:o.styleObj},{default:m((()=>[n.icon?(c(),d(s,{key:0,name:n.icon},null,8,["name"])):!n.src&&!n.srcSet||o.hasLoadError?(c(),d("span",{key:2,textContent:b(n.name.slice(n.slice))},null,8,["textContent"])):(c(),d("img",{key:1,class:"img-fluid",src:n.src,srcset:n.srcSet,onError:t[1]||(t[1]=(...e)=>o.handleError&&o.handleError(...e))},null,40,["src","srcset"]))])),_:1},8,["tagName","class","style"])};var F=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Avatar:K}),R={name:"Button",components:{Element:B,Icon:E},props:{theme:$,tagName:{type:String,default:"button"},icon:{type:String,default:""},type:String},setup(e){const t=v({}),n=[];return"button"==e.tagName&&(n.push("btn"),e.type||(t.type="button")),e.theme&&n.push(`btn-${e.theme}`),0!=n.length&&(t.class=n),{buttonAttr:t}}};R.render=function(e,t,n,o,a,l){const s=h("Icon"),r=h("Element");return c(),d(r,w({tagName:n.tagName},o.buttonAttr),{default:m((()=>[n.icon?(c(),d(s,{key:0,name:n.icon},null,8,["name"])):y("",!0),f(e.$slots,"default")])),_:3},16,["tagName"])};var H=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Button:R});const U=window.requestAnimationFrame||window.webkitRequestAnimationFrame||(e=>setTimeout(e,1e3/60)),J=Object.prototype.hasOwnProperty;function q(e){try{return JSON.parse(e)}catch(t){return e}}!function(e){function t(e){throw new URIError("The script "+e.target.src+" is not accessible.")}}(document.head||document.getElementsByTagName("head")[0]);var V={name:"Collapse",setup:()=>({onEvent:{class:"collapse",enterFromClass:"",onBeforeEnter(e){e.style.height="0",e.classList.add("show")},enterActiveClass:"collapsing",onEnter(e){U((()=>e.style.height=`${e.scrollHeight}px`))},enterToClass:"",onAfterEnter(e){e.style.height=""},leaveFromClass:"",onBeforeLeave(e){e.style.height=`${e.scrollHeight}px`},leaveActiveClass:"collapsing",onLeave(e){e.getBoundingClientRect(),e.style.transitionProperty="height",U((()=>e.style.height="0"))},leaveToClass:"",onAfterLeave(e){e.classList.remove("show"),e.style.height=""}}})};V.render=function(e,t,n,o,a,l){return c(),d(p,o.onEvent,{default:m((()=>[f(e.$slots,"default")])),_:3},16)};var G=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Collapse:V});const Q={count:0,showId:-1,getDropdownId(){return this.count++,this.count},setShowId(e){this.showId=e}};var W={name:"Dropdown",props:{ButtonText:String,theme:{type:String,default:"primary"}},setup(){const e=v(Q),t=e.getDropdownId(),n=u(!1),o=v({});return S((()=>e.showId),(e=>{n.value=t===e,o["z-index"]=-1===e||n.value?"":1e3})),{dropdownId:t,show:n,style:o,showDropdown:()=>e.setShowId(e.showId==t?-1:t)}}};W.render=function(e,t,n,o,a,l){return c(),d("div",{class:["dropdown",{show:o.show}],onClick:t[1]||(t[1]=(...e)=>o.showDropdown&&o.showDropdown(...e)),style:o.style},[n.ButtonText?(c(),d("button",{key:0,type:"button",class:["btn dropdown-toggle",`btn-${n.theme}`],textContent:b(n.ButtonText)},null,10,["textContent"])):y("",!0),f(e.$slots,"default",{id:o.dropdownId})],6)};var X={name:"DropdownMenu",props:{MenuItem:Array},setup(){const e=v(Q),t=e.count;return{show:_((()=>t===e.showId))}}};X.render=function(e,t,n,o,a,l){return c(),d("div",{class:["dropdown-menu",{show:o.show}]},[f(e.$slots,"default",{},(()=>[(c(!0),d(x,null,C(n.MenuItem,(e=>(c(),d("a",{class:"dropdown-item",key:e,textContent:b(e)},null,8,["textContent"])))),128))]))],2)};var Y=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Dropdown:W,DropdownMenu:X}),Z={name:"Load",props:{theme:i(r({},$),{default:"secondary"})}};const ee={class:"d-flex align-items-center justify-content-center",style:{width:"100vw",height:"100vh"}};Z.render=function(e,t,n,o,a,l){return c(),d("div",ee,[g("div",{class:`spinner-border text-${n.theme}`},null,2)])};var te=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Loading:Z}),ne={name:"Pagination",components:{Dropdown:W,DropdownMenu:X,Icon:E},props:{total:Number,pageCount:Number,currentPage:Number,pageSize:{type:Number,default:20},pageSizes:{type:Object,default:[20,40,60,80,100]},pagerCount:{type:Number,default:5},hiddenMore:Boolean,onPagerClick:{type:Function}},setup:e=>({pagers:_((()=>{const t=e.currentPage,n=e.pagerCount,o=e.pageCount,a=[],l=Math.ceil(n/2)-1;let s=t-l;s<1&&(s=1);let r=s+n-1;r>=o&&(r=o),s=r-n+1,s<1&&(s=1);for(let u=s;u<=r;u++){let t={page:u};e.currentPage==u&&(t.active=!0),a.push(t)}function i(e,n=[]){let l=t-e;l<1&&(l=1);let s={page:l};n[0]&&(s.text=n[0]),l==t&&(s.disabled=!0),console.log("start多余"),a.unshift(s);let i=t+e;i>o&&(i=o);let u={page:i};i==t&&(u.disabled=!0),n[1]&&(u.text=n[1]),(i==r||o)&&console.log("end多余"),a.push(u)}return i(5,["...","..."]),i(o),i(1,['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>']),console.log(s,r,a),a}))})};const oe={class:"pagination"},ae={class:"d-flex align-items-center me-2"},le={class:"mx-1"},se=O("共"),re=O("条 "),ie=g("span",null,"第",-1),ue=g("input",{class:"form-control mx-1",style:{height:"20px",width:"32px"},value:"1"},null,-1),ce=O("/"),de=O("页"),pe={class:"ms-1"},me={class:"page-link dropdown-toggle"};ne.render=function(e,t,n,o,a,l){const s=h("DropdownMenu"),r=h("Dropdown");return c(),d("ul",oe,[g("li",ae,[g("span",le,[se,g("span",{class:"text-primary mx-1",textContent:b(n.total)},null,8,["textContent"]),re]),ie,ue,g("span",null,[ce,g("span",{class:"text-primary mx-1",textContent:b(n.pageCount)},null,8,["textContent"]),de])]),(c(!0),d(x,null,C(o.pagers,(e=>(c(),d("li",{class:["page-item",{active:e.active,disabled:e.disabled}],key:e},[g("a",{class:"page-link",innerHTML:e.text||e.page,onClick:t=>n.onPagerClick(e.page)},null,8,["innerHTML","onClick"])],2)))),128)),g("li",pe,[g(r,null,{default:m((()=>[g("a",me,b(n.pageSize)+"条/页",1),g(s,{class:"dropdown-menu-end"},{default:m((()=>[(c(!0),d(x,null,C(n.pageSizes,(e=>(c(),d("a",{class:"dropdown-item",key:e,textContent:b(e)},null,8,["textContent"])))),128))])),_:1})])),_:1})])])};var ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Pagination:ne}),fe={name:"Table",props:{columns:Object,data:Object},setup(e){console.log("类型",typeof e.data,typeof e.data[0],e.data);return{thead:_((()=>!e.columns&&e.data[0]?Object.keys(e.data[0]):e.columns))}}};const ye={class:"table"};fe.render=function(e,t,n,o,a,l){return c(),d("table",ye,[f(e.$slots,"default",{},(()=>[g("thead",null,[g("tr",null,[(c(!0),d(x,null,C(o.thead,((e,t)=>(c(),d("th",{key:t,textContent:b(e)},null,8,["textContent"])))),128))])]),g("tbody",null,[(c(!0),d(x,null,C(n.data,((e,t)=>(c(),d("tr",{key:t},[(c(!0),d(x,null,C(e,((e,t)=>(c(),d("td",{key:t,textContent:b(e)},null,8,["textContent"])))),128))])))),128))])]))])};var he=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Table:fe});const be={show:{},menuData:{},updateShow(e,t){this.show[e]=this.show[e]!==t?t:"-1"}};var ve={name:"Tree",components:{Element:B,Icon:E},directives:{collapse:{beforeMount(e,{value:t}){e.classList.add("collapse"),t&&e.classList.add("show")},beforeUpdate(e,{value:t,oldValue:n}){!t!=!n&&(t?(e.style.height="0",e.classList.add("show")):e.style.height=`${e.scrollHeight}px`,e.classList.replace("collapse","collapsing"))},updated(e,{value:t,oldValue:n}){if(!t==!n)return;U((()=>e.style.height=t?`${e.scrollHeight}px`:"0"));const o=(e=>{const t=(e,t)=>{for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,o)=>n(t)+n(e[o]))))},n=e=>1e3*Number(e.slice(0,-1).replace(",",".")),o=window.getComputedStyle(e),a=e=>(o[e]||"").split(", "),l=t(a("transitionDelay"),a("transitionDuration")),s=t(a("animationDelay"),a("animationDuration"));return Math.max(l,s)})(e);setTimeout((()=>{t||e.classList.remove("show"),e.classList.replace("collapsing","collapse"),e.style.height=""}),o)}}},props:{class:{type:String,default:"tree"},pid:{type:[Number,String],default:0},accordion:{type:Boolean,default:!0},level:{type:Number,default:-1},menu:{type:Object},idKey:{type:String,default:"id"},pidKey:{type:String,default:"pid"},nameKey:{type:String,default:"name"},iconKey:{type:String,default:"icon"},data:{type:Object},clickMenu:Function},setup(e){const t=v(be),{menuData:n}=k(t);if(!e.menu){let t=function(t){const n={};if(t){const o=t.length;for(let a=0;a<o;a++){const o=t[a][e.pidKey];n.hasOwnProperty(o)||(n[o]=[]),n[o].push(t[a])}}return n};console.log("tree性能测试",e.data),n.value=t(e.data),S((()=>e.data),(e=>n.value=t(e)))}const o=e.menu?"li":"nav",a=e.menu?"nav-item":e.class,l=_((()=>n.value.hasOwnProperty(e.pid))),s=e.level>0?{"margin-left":e.level+"em"}:{},r=e.menu?e.menu[e.iconKey]:"",i=u(!e.menu);return e.accordion&&e.menu&&S((()=>t.show[e.menu[e.pidKey]]),(t=>i.value=e.menu.id===t)),{menuData:n,tagName:o,menuClass:a,hasChild:l,isActive:i,setActive:(n,o)=>{e.accordion?t.updateShow(n,o):i.value=!i.value},icon:r,marginLeft:s}}};const we={key:1,class:"nav"};ve.render=function(e,t,n,o,a,l){const s=h("Icon"),r=h("Tree",!0),i=h("Element"),u=T("collapse");return c(),d(i,{tagName:o.tagName,class:o.menuClass},{default:m((()=>[n.menu?(c(),d("a",{key:0,class:["nav-link",{active:o.isActive}],onClick:t[1]||(t[1]=e=>(n.clickMenu(n.menu),o.setActive(n.menu[n.pidKey],n.menu.id)))},[g(s,{name:o.icon,style:o.marginLeft},null,8,["name","style"]),g("span",{class:"flex-fill",textContent:b(n.menu[n.nameKey])},null,8,["textContent"]),o.hasChild?(c(),d(s,{key:0,name:"angle-down"})):y("",!0)],2)):y("",!0),o.hasChild?j((c(),d("ul",we,[(c(!0),d(x,null,C(o.menuData[n.pid],((e,t)=>(c(),d(r,w({key:t},{level:n.level+1,menu:e,pid:e[n.idKey],pidKey:n.pidKey,clickMenu:n.clickMenu}),null,16)))),128))],512)),[[u,o.isActive]]):y("",!0)])),_:1},8,["tagName","class"])};var Se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Tree:ve}),_e={props:{modalOpen:{type:Boolean,default:!1},to:{type:String,default:"body"}}};const xe={key:0,class:"modal",role:"dialog"},Ce={class:"modal-dialog"};_e.render=function(e,t,n,o,a,l){return c(),d(M,{to:n.to},[n.modalOpen?(c(),d("div",xe,[g("div",Ce,[f(e.$slots,"default")])])):y("",!0)],8,["to"])};var Oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:N,Modal:_e});const ke=function(e,t={}){for(var n in this)"install"!==n&&(e.config.globalProperties[`$${n}`]=this[n])},Te=e=>{var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");if(t=document.cookie.match(n))return t[2]},je={set:(e,t,n,o="/")=>{let a="";if(n){let e=new Date;e.setTime(e.getTime()+n),a=";expires="+e.toUTCString()+";path="+o}document.cookie=e+"="+t+a},get:Te,remove:(e,t="/")=>{var n=new Date;n.setTime(n.getTime()-1);var o=Te(e);null!=o&&(document.cookie=e+"="+o+";expires="+n.toUTCString()+";path="+t)}},Me=(e,t,n)=>"cookie"==e?q(je.get(t))||n:"local"==e?q(window.localStorage.getItem(t))||n:"session"==e?q(window.sessionStorage.getItem(t))||n:void 0,Ie=(e,t,n)=>{"cookie"==e&&je.set(t,JSON.stringify(n),72e5),"local"==e&&window.localStorage.setItem(t,JSON.stringify(n)),"session"==e&&window.sessionStorage.setItem(t,JSON.stringify(n))};function Ne(e={}){const t={};for(var n in e){const o=Me(e[n].type,n,e[n].default);"object"==typeof e[n].default?t[n]=new Proxy(o,{set(t,o,a,l){const s=Reflect.set(t,o,a);return Ie(e[n].type,n,t),s}}):t[n]=o}return console.log("target",t),new Proxy(t,{set(t,n,o,a){const l=Reflect.set(t,n,o);return((e,t)=>J.call(e,t))(e,n)&&Ie(e[n].type,n,o),l}})}const De=Ne({token:{type:"cookie",default:""}});I.defaults.baseURL="http://yunxioa.com:82",I.defaults.headers.common.Authorization=De.token,I.interceptors.request.use((function(e){return console.log(e),e}),(function(e){return Promise.reject(e)})),I.interceptors.response.use((function(e){return console.log(e.data.errcode),0!==e.data.errcode&&console.log("请求失败拉！",e.data),e.data}),(function(e){return Promise.reject(e)}));const $e=I;var ze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",install:ke,http:$e}),Ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Alert:P,Avatar:F,Button:H,Collapse:G,Dropdown:Y,Icon:L,Loading:te,Pagination:ge,Table:he,Tree:Se,Modal:Oe,global:ze}),Pe={install(e,t={}){for(var n in Ae)Ae[n].install(e,t);ke(e,t)}};export{P as Alert,F as Avatar,H as Button,G as Collapse,Y as Dropdown,L as Icon,te as Loading,Oe as Modal,ge as Pagination,he as Table,Se as Tree,je as cookie,Ne as createLocalStorage,Pe as default,Me as getCache,ze as global,$e as http,Ie as setCache};
